name: Keep Render Alive

on:
  schedule:
    # Chạy mỗi 7 phút (theo giờ UTC)
    - cron: "*/7 * * * *"
  workflow_dispatch: # Cho phép bấm nút chạy tay

jobs:
  keep-alive:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Render Health Endpoint
        run: |
          echo "Pinging Render server..."
          curl -s --retry 3 --max-time 30 https://bankingnoti.onrender.com/health || echo "Server might still be waking up"
      - name: Ping worktime-dux3
        run: |
          echo "Pinging worktime-dux3..."
          curl -s --retry 3 --max-time 30 https://worktime-dux3.onrender.com/health || echo "worktime-dux3 server might still be waking up"